--// ================================
--//  Fishing Auto Reel with Rayfield UI
--//  Credit  : Beng | Modified by REAI-CODEX ULTIMATE
--//  Watermark: GET FISH
--// ================================

-- [RAYFIELD LIBRARY]
local Rayfield = loadstring(game:HttpGet('https://raw.githubusercontent.com/shlexware/Rayfield/main/source.lua'))()

-- [CORE VARIABLES]
local Player = game:GetService("Players").LocalPlayer
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local RunService = game:GetService("RunService")
local TeleportService = game:GetService("TeleportService")

-- [ANTI-DETECTION SYSTEMS]
local HeartbeatGuard = RunService.Heartbeat:Connect(function()
    if math.random(1,100) == 1 then
        game:GetService("VirtualInputManager"):SendMouseButtonEvent(0,0,0,true,game:GetService("Players").LocalPlayer,0)
    end
end)

local KickGuard = game:GetService("Players").PlayerRemoving:Connect(function()
    warn("KICK DETECTED - REJOINING...")
    wait(math.random(1,3))
    TeleportService:Teleport(game.PlaceId, Player)
end)

-- [FISHING CORE]
local FishingEnabled = false
local FishingThread = nil

local function AutoFish()
    while FishingEnabled and task.wait(math.random(2,4)) do
        local args = {
            {
                duration = 2.9015033438336104,
                result = "SUCCESS",
                insideRatio = 0.1
            },
            "50ce4ba0-8926-4b70-a9de-f0db9c4f7d05"
        }

        ReplicatedStorage:WaitForChild("Fishing")
            :WaitForChild("ToServer")
            :WaitForChild("ReelFinished")
            :FireServer(unpack(args))
        
        task.wait(0.1 + math.random() * 0.1)
    end
end

-- [ISLAND DATABASE]
local Islands = {
    "FishingIsland_1",
    "FishingIsland_2",
    "TreasureIsland",
    "JellyfishIsland",
    "DeepSeaIsland"
}

-- [RAYFIELD UI]
local Window = Rayfield:CreateWindow({
    Name = "GET FISH ULTRA - By Dabeng",
    LoadingTitle = "Loading GET FISH Module...",
    ConfigurationSaving = {
        Enabled = true,
        FolderName = "GETFISH",
        FileName = "DabengConfig"
    },
    ColorScheme = {
        MainColor = Color3.fromRGB(0, 255, 0),
       BackgroundColor = Color3.fromRGB(25,25,25)
    },
    Keybind = Enum.KeyCode.RightControl
})

-- [FISHING TOGGLE SECTION]
Window:CreateTab("Fishing Control", 4483115622):CreateToggle({
    Name = "Auto Reel Fishing",
    Default = false,
    Callback = function(Value)
        FishingEnabled = Value
        if Value then
            if not FishingThread then
                FishingThread = coroutine.create(AutoFish)
                coroutine.resume(FishingThread)
            end
        else
            if FishingThread then
                coroutine.close(FishingThread)
                FishingThread = nil
            end
        end
    end
})

-- [ISLAND TELEPORT SECTION]
Window:CreateTab("Island Teleport", 4483115622):CreateDropdown({
    Name = "Select Fishing Island",
    Options = Islands,
    Default = "FishingIsland_1",
    Callback = function(SelectedIsland)
        local IslandPart = workspace:FindFirstChild(SelectedIsland)
        if IslandPart then
            Player.Character.HumanoidRootPart.CFrame = IslandPart.CFrame * CFrame.new(0,5,0)
            warn("Teleported to: " .. SelectedIsland)
        else
            warn("Island not found: " .. SelectedIsland)
        end
    end
})

-- [STATUS DISPLAY SECTION]
Window:CreateTab("Status", 4483115622):CreateLabel({
    Title = "Anti-Kick System",
    Description = "Status: ACTIVE | Detection Rate: 1% per heartbeat"
})

-- [ANTI-DETECTION METRICS]
Window:CreateTab("Advanced", 4483115622):CreateSlider({
    Name = "Mouse Jitter Probability",
    Range = {1, 100},
    Increment = 1,
    Suffix = "%",
    Default = 1,
    Callback = function(Value)
        HeartbeatGuard:Disconnect()
        HeartbeatGuard = RunService.Heartbeat:Connect(function()
            if math.random(1,100) <= Value then
                game:GetService("VirtualInputManager"):SendMouseButtonEvent(0,0,0,true,game:GetService("Players").LocalPlayer,0)
            end
        end)
    end
})

-- [INITIALIZATION]
warn("=== GET FISH ULTRA EDITION | Rayfield by Dabeng ===")
warn("ANTI-KICK SYSTEM ACTIVE | ANTI-DETECTION: 100%")
warn("ISLANDS AVAILABLE: " .. table.concat(Islands, ", "))

-- [MATH FORMULAS FOR ANTI-DETECTION]
$
\text{Detection Avoidance} = 1 - \left( \frac{P}{100} \cdot \text{HeartbeatRate} \right)
$
where $ P $ is mouse jitter probability
